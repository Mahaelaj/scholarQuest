webpackJsonp([9],{"MF+9":function(e,a,t){"use strict";function s(e){return c._46(0,[c._42(402653184,1,{gameController:0}),(e()(),c._23(1,0,null,null,6,"sq-game",[["height","950px"]],null,[[null,"changeGradeLevelEvent"],[null,"openSidenavEvent"],[null,"closeSidenavEvent"]],function(e,a,t){var s=!0,i=e.component;if("changeGradeLevelEvent"===a){s=!1!==i.changeGradeLevel(t)&&s}if("openSidenavEvent"===a){s=!1!==i.pauseGame()&&s}if("closeSidenavEvent"===a){s=!1!==i.playGame()&&s}return s},d.b,d.a)),c._21(2,49152,[[1,4],["game",4]],0,_.a,[u.a,w.a,b.a,y.b],{height:[0,"height"]},{changeGradeLevelEvent:"changeGradeLevelEvent",openSidenavEvent:"openSidenavEvent",closeSidenavEvent:"closeSidenavEvent"}),(e()(),c._44(-1,0,["\n    "])),(e()(),c._23(4,0,null,0,0,"img",[["class","title"],["src","../../../assets/games/appleDrop/title.png"]],null,null,null,null,null)),(e()(),c._44(-1,0,["\n    "])),(e()(),c._23(6,0,null,0,0,"div",[["class","game"],["id","phaser-game-parent"]],null,null,null,null,null)),(e()(),c._44(-1,0,["\n"])),(e()(),c._44(-1,null,["\n"]))],function(e,a){e(a,2,0,"950px")},null)}function i(e){return c._46(0,[(e()(),c._23(0,0,null,null,1,"sq-apple-drop",[],null,null,null,s,v)),c._21(1,4374528,null,0,g,[u.a],null,null)],null,null)}Object.defineProperty(a,"__esModule",{value:!0});var p=t("xrDH"),o=(t.n(p),t("6nA8")),r=(t.n(o),t("shAM")),n=this&&this.__awaiter||function(e,a,t,s){return new(t||(t=Promise))(function(i,p){function o(e){try{n(s.next(e))}catch(e){p(e)}}function r(e){try{n(s.throw(e))}catch(e){p(e)}}function n(e){e.done?i(e.value):new t(function(a){a(e.value)}).then(o,r)}n((s=s.apply(e,a||[])).next())})},l=this&&this.__generator||function(e,a){function t(e){return function(a){return s([e,a])}}function s(t){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,p&&(o=p[2&t[0]?"return":t[0]?"throw":"next"])&&!(o=o.call(p,t[1])).done)return o;switch(p=0,o&&(t=[0,o.value]),t[0]){case 0:case 1:o=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,p=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){n.label=t[1];break}if(6===t[0]&&n.label<o[1]){n.label=o[1],o=t;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(t);break}o[2]&&n.ops.pop(),n.trys.pop();continue}t=a.call(e,n)}catch(e){t=[6,e],p=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var i,p,o,r,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},g=function(){function e(e){this.apiService=e,this.bagVelocity=0,this.letterIndex=0,this.startDialog={},this.apples=[],this.score=0,this.isGameOver=!1,this.gameOverDialog={},this.bag=[],this.correctAppleInBag=!1,this.incorrectAppleInBag=!1,this.wormDown=!1,this.gravity=100,this.appleTweenTime=3e3,this.defaultGravity=100,this.defaultAappleTweenTime=3e3,this.gameReady=!1}return e.prototype.ngOnDestroy=function(){this.game.destroy()},e.prototype.ngAfterViewInit=function(){this.game=new o.Game(1355,750,o.AUTO,document.getElementById("phaser-game-parent"),{preload:this.preload,create:this.create.bind(this),update:this.update.bind(this)})},e.prototype.preload=function(){this.game.load.spritesheet("loading_spritesheet","../../../assets/games/loading/loading_spritesheet.png",1355,761,8),this.game.load.spritesheet("loading_start","../../../assets/games/loading/start.png",1355,761,8)},e.prototype.create=function(){var e=this;this.background=this.game.add.image(0,0,"loading_spritesheet"),this.background.animations.add("load").play(4,!0),this.game.load.onLoadComplete.add(this.onAssetsLoaded,this),this.gameController.getVocabulary().subscribe(function(a){if(a.error&&console.log(a),a.error)return e.gameController.openErrorMessage();e.apiService.post("getAvatarSkinColor",{}).subscribe(function(a){a.skin?e.loadAssets(a.skin):e.loadAssets(3)},function(a){return e.gameController.openErrorMessage()}),e.vocabFull=a.vocab,e.vocabRemaining=p.cloneDeep(e.vocabFull),e.arrowKeys=e.game.input.keyboard.createCursorKeys()},function(a){e.gameController.openErrorMessage()})},e.prototype.onAssetsLoaded=function(){var e=this.game.add.button(this.game.world.centerX,this.game.world.centerY,"loading_start",this.initGame,this);e.anchor.setTo(.5,.5),e.alpha=0,this.game.add.tween(e).to({alpha:1},2e3,"Linear",!0)},e.prototype.initGame=function(){this.audio={background:this.game.add.audio("background_music"),no_apple:this.game.add.audio("no_apple"),apple_catch:this.game.add.audio("apple_catch"),wrong_apple:this.game.add.audio("wrong_apple")},this.background.destroy(),this.setBackground(),this.setPhysics(),this.setCollisionGroups(),this.displayLives(),this.setBoundaries(),this.displayBag(),this.getNewWord(),this.displayStartDialog(),this.displayScoreText(),this.startBackgroundMusic(),this.gameReady=!0},e.prototype.loadAssets=function(e){return n(this,void 0,void 0,function(){var a;return l(this,function(t){switch(t.label){case 0:return[4,this.game.load.image("apple_cap_a","../../../assets/games/appleDrop/apple_cap_a.png")];case 1:return t.sent(),[4,this.game.load.image("apple_cap_b","../../../assets/games/appleDrop/apple_cap_b.png")];case 2:return t.sent(),[4,this.game.load.image("apple_cap_c","../../../assets/games/appleDrop/apple_cap_c.png")];case 3:return t.sent(),[4,this.game.load.image("apple_cap_d","../../../assets/games/appleDrop/apple_cap_d.png")];case 4:return t.sent(),[4,this.game.load.image("apple_cap_e","../../../assets/games/appleDrop/apple_cap_e.png")];case 5:return t.sent(),[4,this.game.load.image("apple_cap_f","../../../assets/games/appleDrop/apple_cap_f.png")];case 6:return t.sent(),[4,this.game.load.image("apple_cap_g","../../../assets/games/appleDrop/apple_cap_g.png")];case 7:return t.sent(),[4,this.game.load.image("apple_cap_h","../../../assets/games/appleDrop/apple_cap_h.png")];case 8:return t.sent(),[4,this.game.load.image("apple_cap_i","../../../assets/games/appleDrop/apple_cap_i.png")];case 9:return t.sent(),[4,this.game.load.image("apple_cap_j","../../../assets/games/appleDrop/apple_cap_j.png")];case 10:return t.sent(),[4,this.game.load.image("apple_cap_k","../../../assets/games/appleDrop/apple_cap_k.png")];case 11:return t.sent(),[4,this.game.load.image("apple_cap_l","../../../assets/games/appleDrop/apple_cap_l.png")];case 12:return t.sent(),[4,this.game.load.image("apple_cap_m","../../../assets/games/appleDrop/apple_cap_m.png")];case 13:return t.sent(),[4,this.game.load.image("apple_cap_n","../../../assets/games/appleDrop/apple_cap_n.png")];case 14:return t.sent(),[4,this.game.load.image("apple_cap_o","../../../assets/games/appleDrop/apple_cap_o.png")];case 15:return t.sent(),[4,this.game.load.image("apple_cap_p","../../../assets/games/appleDrop/apple_cap_p.png")];case 16:return t.sent(),[4,this.game.load.image("apple_cap_q","../../../assets/games/appleDrop/apple_cap_q.png")];case 17:return t.sent(),[4,this.game.load.image("apple_cap_r","../../../assets/games/appleDrop/apple_cap_r.png")];case 18:return t.sent(),[4,this.game.load.image("apple_cap_s","../../../assets/games/appleDrop/apple_cap_s.png")];case 19:return t.sent(),[4,this.game.load.image("apple_cap_t","../../../assets/games/appleDrop/apple_cap_t.png")];case 20:return t.sent(),[4,this.game.load.image("apple_cap_u","../../../assets/games/appleDrop/apple_cap_u.png")];case 21:return t.sent(),[4,this.game.load.image("apple_cap_v","../../../assets/games/appleDrop/apple_cap_v.png")];case 22:return t.sent(),[4,this.game.load.image("apple_cap_w","../../../assets/games/appleDrop/apple_cap_w.png")];case 23:return t.sent(),[4,this.game.load.image("apple_cap_x","../../../assets/games/appleDrop/apple_cap_x.png")];case 24:return t.sent(),[4,this.game.load.image("apple_cap_y","../../../assets/games/appleDrop/apple_cap_y.png")];case 25:return t.sent(),[4,this.game.load.image("apple_cap_z","../../../assets/games/appleDrop/apple_cap_z.png")];case 26:return t.sent(),[4,this.game.load.image("apple_low_a","../../../assets/games/appleDrop/apple_low_a.png")];case 27:return t.sent(),[4,this.game.load.image("apple_low_b","../../../assets/games/appleDrop/apple_low_b.png")];case 28:return t.sent(),[4,this.game.load.image("apple_low_c","../../../assets/games/appleDrop/apple_low_c.png")];case 29:return t.sent(),[4,this.game.load.image("apple_low_d","../../../assets/games/appleDrop/apple_low_d.png")];case 30:return t.sent(),[4,this.game.load.image("apple_low_e","../../../assets/games/appleDrop/apple_low_e.png")];case 31:return t.sent(),[4,this.game.load.image("apple_low_f","../../../assets/games/appleDrop/apple_low_f.png")];case 32:return t.sent(),[4,this.game.load.image("apple_low_g","../../../assets/games/appleDrop/apple_low_g.png")];case 33:return t.sent(),[4,this.game.load.image("apple_low_h","../../../assets/games/appleDrop/apple_low_h.png")];case 34:return t.sent(),[4,this.game.load.image("apple_low_i","../../../assets/games/appleDrop/apple_low_i.png")];case 35:return t.sent(),[4,this.game.load.image("apple_low_j","../../../assets/games/appleDrop/apple_low_j.png")];case 36:return t.sent(),[4,this.game.load.image("apple_low_k","../../../assets/games/appleDrop/apple_low_k.png")];case 37:return t.sent(),[4,this.game.load.image("apple_low_l","../../../assets/games/appleDrop/apple_low_l.png")];case 38:return t.sent(),[4,this.game.load.image("apple_low_m","../../../assets/games/appleDrop/apple_low_m.png")];case 39:return t.sent(),[4,this.game.load.image("apple_low_n","../../../assets/games/appleDrop/apple_low_n.png")];case 40:return t.sent(),[4,this.game.load.image("apple_low_o","../../../assets/games/appleDrop/apple_low_o.png")];case 41:return t.sent(),[4,this.game.load.image("apple_low_p","../../../assets/games/appleDrop/apple_low_p.png")];case 42:return t.sent(),[4,this.game.load.image("apple_low_q","../../../assets/games/appleDrop/apple_low_q.png")];case 43:return t.sent(),[4,this.game.load.image("apple_low_r","../../../assets/games/appleDrop/apple_low_r.png")];case 44:return t.sent(),[4,this.game.load.image("apple_low_s","../../../assets/games/appleDrop/apple_low_s.png")];case 45:return t.sent(),[4,this.game.load.image("apple_low_t","../../../assets/games/appleDrop/apple_low_t.png")];case 46:return t.sent(),[4,this.game.load.image("apple_low_u","../../../assets/games/appleDrop/apple_low_u.png")];case 47:return t.sent(),[4,this.game.load.image("apple_low_v","../../../assets/games/appleDrop/apple_low_v.png")];case 48:return t.sent(),[4,this.game.load.image("apple_low_w","../../../assets/games/appleDrop/apple_low_w.png")];case 49:return t.sent(),[4,this.game.load.image("apple_low_x","../../../assets/games/appleDrop/apple_low_x.png")];case 50:return t.sent(),[4,this.game.load.image("apple_low_y","../../../assets/games/appleDrop/apple_low_y.png")];case 51:return t.sent(),[4,this.game.load.image("apple_low_z","../../../assets/games/appleDrop/apple_low_z.png")];case 52:return t.sent(),[4,this.game.load.image("twigs_cap_a","../../../assets/games/appleDrop/twigs_cap_a.png")];case 53:return t.sent(),[4,this.game.load.image("twigs_cap_b","../../../assets/games/appleDrop/twigs_cap_b.png")];case 54:return t.sent(),[4,this.game.load.image("twigs_cap_c","../../../assets/games/appleDrop/twigs_cap_c.png")];case 55:return t.sent(),[4,this.game.load.image("twigs_cap_d","../../../assets/games/appleDrop/twigs_cap_d.png")];case 56:return t.sent(),[4,this.game.load.image("twigs_cap_e","../../../assets/games/appleDrop/twigs_cap_e.png")];case 57:return t.sent(),[4,this.game.load.image("twigs_cap_f","../../../assets/games/appleDrop/twigs_cap_f.png")];case 58:return t.sent(),[4,this.game.load.image("twigs_cap_g","../../../assets/games/appleDrop/twigs_cap_g.png")];case 59:return t.sent(),[4,this.game.load.image("twigs_cap_h","../../../assets/games/appleDrop/twigs_cap_h.png")];case 60:return t.sent(),[4,this.game.load.image("twigs_cap_i","../../../assets/games/appleDrop/twigs_cap_i.png")];case 61:return t.sent(),[4,this.game.load.image("twigs_cap_j","../../../assets/games/appleDrop/twigs_cap_j.png")];case 62:return t.sent(),[4,this.game.load.image("twigs_cap_k","../../../assets/games/appleDrop/twigs_cap_k.png")];case 63:return t.sent(),[4,this.game.load.image("twigs_cap_l","../../../assets/games/appleDrop/twigs_cap_l.png")];case 64:return t.sent(),[4,this.game.load.image("twigs_cap_m","../../../assets/games/appleDrop/twigs_cap_m.png")];case 65:return t.sent(),[4,this.game.load.image("twigs_cap_n","../../../assets/games/appleDrop/twigs_cap_n.png")];case 66:return t.sent(),[4,this.game.load.image("twigs_cap_o","../../../assets/games/appleDrop/twigs_cap_o.png")];case 67:return t.sent(),[4,this.game.load.image("twigs_cap_p","../../../assets/games/appleDrop/twigs_cap_p.png")];case 68:return t.sent(),[4,this.game.load.image("twigs_cap_q","../../../assets/games/appleDrop/twigs_cap_q.png")];case 69:return t.sent(),[4,this.game.load.image("twigs_cap_r","../../../assets/games/appleDrop/twigs_cap_r.png")];case 70:return t.sent(),[4,this.game.load.image("twigs_cap_s","../../../assets/games/appleDrop/twigs_cap_s.png")];case 71:return t.sent(),[4,this.game.load.image("twigs_cap_t","../../../assets/games/appleDrop/twigs_cap_t.png")];case 72:return t.sent(),[4,this.game.load.image("twigs_cap_u","../../../assets/games/appleDrop/twigs_cap_u.png")];case 73:return t.sent(),[4,this.game.load.image("twigs_cap_v","../../../assets/games/appleDrop/twigs_cap_v.png")];case 74:return t.sent(),[4,this.game.load.image("twigs_cap_w","../../../assets/games/appleDrop/twigs_cap_w.png")];case 75:return t.sent(),[4,this.game.load.image("twigs_cap_x","../../../assets/games/appleDrop/twigs_cap_x.png")];case 76:return t.sent(),[4,this.game.load.image("twigs_cap_y","../../../assets/games/appleDrop/twigs_cap_y.png")];case 77:return t.sent(),[4,this.game.load.image("twigs_cap_z","../../../assets/games/appleDrop/twigs_cap_z.png")];case 78:return t.sent(),[4,this.game.load.image("twigs_low_a","../../../assets/games/appleDrop/twigs_low_a.png")];case 79:return t.sent(),[4,this.game.load.image("twigs_low_b","../../../assets/games/appleDrop/twigs_low_b.png")];case 80:return t.sent(),[4,this.game.load.image("twigs_low_c","../../../assets/games/appleDrop/twigs_low_c.png")];case 81:return t.sent(),[4,this.game.load.image("twigs_low_d","../../../assets/games/appleDrop/twigs_low_d.png")];case 82:return t.sent(),[4,this.game.load.image("twigs_low_e","../../../assets/games/appleDrop/twigs_low_e.png")];case 83:return t.sent(),[4,this.game.load.image("twigs_low_f","../../../assets/games/appleDrop/twigs_low_f.png")];case 84:return t.sent(),[4,this.game.load.image("twigs_low_g","../../../assets/games/appleDrop/twigs_low_g.png")];case 85:return t.sent(),[4,this.game.load.image("twigs_low_h","../../../assets/games/appleDrop/twigs_low_h.png")];case 86:return t.sent(),[4,this.game.load.image("twigs_low_i","../../../assets/games/appleDrop/twigs_low_i.png")];case 87:return t.sent(),[4,this.game.load.image("twigs_low_j","../../../assets/games/appleDrop/twigs_low_j.png")];case 88:return t.sent(),[4,this.game.load.image("twigs_low_k","../../../assets/games/appleDrop/twigs_low_k.png")];case 89:return t.sent(),[4,this.game.load.image("twigs_low_l","../../../assets/games/appleDrop/twigs_low_l.png")];case 90:return t.sent(),[4,this.game.load.image("twigs_low_m","../../../assets/games/appleDrop/twigs_low_m.png")];case 91:return t.sent(),[4,this.game.load.image("twigs_low_n","../../../assets/games/appleDrop/twigs_low_n.png")];case 92:return t.sent(),[4,this.game.load.image("twigs_low_o","../../../assets/games/appleDrop/twigs_low_o.png")];case 93:return t.sent(),[4,this.game.load.image("twigs_low_p","../../../assets/games/appleDrop/twigs_low_p.png")];case 94:return t.sent(),[4,this.game.load.image("twigs_low_q","../../../assets/games/appleDrop/twigs_low_q.png")];case 95:return t.sent(),[4,this.game.load.image("twigs_low_r","../../../assets/games/appleDrop/twigs_low_r.png")];case 96:return t.sent(),[4,this.game.load.image("twigs_low_s","../../../assets/games/appleDrop/twigs_low_s.png")];case 97:return t.sent(),[4,this.game.load.image("twigs_low_t","../../../assets/games/appleDrop/twigs_low_t.png")];case 98:return t.sent(),[4,this.game.load.image("twigs_low_u","../../../assets/games/appleDrop/twigs_low_u.png")];case 99:return t.sent(),[4,this.game.load.image("twigs_low_v","../../../assets/games/appleDrop/twigs_low_v.png")];case 100:return t.sent(),[4,this.game.load.image("twigs_low_w","../../../assets/games/appleDrop/twigs_low_w.png")];case 101:return t.sent(),[4,this.game.load.image("twigs_low_x","../../../assets/games/appleDrop/twigs_low_x.png")];case 102:return t.sent(),[4,this.game.load.image("twigs_low_y","../../../assets/games/appleDrop/twigs_low_y.png")];case 103:return t.sent(),[4,this.game.load.image("twigs_low_z","../../../assets/games/appleDrop/twigs_low_z.png")];case 104:switch(t.sent(),a=e){case 1:return[3,105];case 2:return[3,107];case 3:return[3,109];case 4:return[3,111];case 5:return[3,113];case 6:return[3,115]}return[3,117];case 105:return[4,this.game.load.image("bag_front","../../../assets/games/appleDrop/bag_cl01_front.png")];case 106:return t.sent(),[3,117];case 107:return[4,this.game.load.image("bag_front","../../../assets/games/appleDrop/bag_cl02_front.png")];case 108:return t.sent(),[3,117];case 109:return[4,this.game.load.image("bag_front","../../../assets/games/appleDrop/bag_cl03_front.png")];case 110:return t.sent(),[3,117];case 111:return[4,this.game.load.image("bag_front","../../../assets/games/appleDrop/bag_cl04_front.png")];case 112:return t.sent(),[3,117];case 113:return[4,this.game.load.image("bag_front","../../../assets/games/appleDrop/bag_cl05_front.png")];case 114:return t.sent(),[3,117];case 115:return[4,this.game.load.image("bag_front","../../../assets/games/appleDrop/bag_cl06_front.png")];case 116:return t.sent(),[3,117];case 117:return[4,this.game.load.image("bag_back","../../../assets/games/appleDrop/bag_back.png")];case 118:return t.sent(),[4,this.game.load.image("word_box","../../../assets/games/appleDrop/word_box.jpg")];case 119:return t.sent(),[4,this.game.load.image("life","../../../assets/games/appleDrop/live.png")];case 120:return t.sent(),[4,this.game.load.image("background","../../../assets/games/appleDrop/background.jpg")];case 121:return t.sent(),[4,this.game.load.spritesheet("worm_spritesheet","../../../assets/games/appleDrop/worm_spritesheet.png",68,146,351)];case 122:return t.sent(),[4,this.game.load.physics("physics","https://loonride.com/data/p2/-KvuM0Urb6tBpa8xydUw")];case 123:return t.sent(),[4,this.game.load.audio("apple_catch","../../../assets/games/appleDrop/audio/apple_catch.ogg")];case 124:return t.sent(),[4,this.game.load.audio("no_apple","../../../assets/games/appleDrop/audio/no_apple.ogg")];case 125:return t.sent(),[4,this.game.load.audio("wrong_apple","../../../assets/games/appleDrop/audio/wrong_apple.ogg")];case 126:return t.sent(),[4,this.game.load.audio("background_music","../../../assets/games/appleDrop/audio/background.ogg")];case 127:return t.sent(),this.game.load.start(),[2]}})})},e.prototype.displayScoreText=function(){this.scoreText=this.game.add.text(this.game.width-40,40,"SCORE: "+this.score,{font:"40px Arial",fill:"#cd2f43",align:"center"}),this.scoreText.anchor.setTo(1,.5)},e.prototype.pauseGame=function(){this.game.paused=!0},e.prototype.playGame=function(){this.game.paused=!1},e.prototype.changeGradeLevel=function(e){this.vocabFull=e;for(var a=this.livesGroup.children.length-1;a>=0;a--)this.livesGroup.children[a]&&this.livesGroup.children[a].destroy();this.isGameOver?(this.removeGameOverDialog(),this.isGameOver=!1):this.isStartDialogDisplayed&&(this.isStartDialogDisplayed=!1,this.removeStartDialog()),this.reset()},e.prototype.setPhysics=function(){this.game.physics.startSystem(o.Physics.P2JS),this.game.physics.p2.gravity.y=this.gravity,this.game.physics.p2.setImpactEvents(!0),this.game.physics.p2.restitution=.4},e.prototype.getBranchLetters=function(){this.treeLetters=this.game.add.group();for(var e=0,a=this.word;e<a.length;e++){var t=a[e],s=void 0;s=t===t.toUpperCase()?this.treeLetters.create(this.treeLetters.width,37,"twigs_cap_"+p.toLower(t)):this.treeLetters.create(this.treeLetters.width,50,"twigs_low_"+t),s.alpha=0}this.treeLetters.x=this.game.width/2-this.treeLetters.width/2},e.prototype.displayLives=function(){this.livesGroup=this.game.add.group();for(var e=0;e<3;e++){var a=this.livesGroup.create(45*e+50,40,"life");this.game.physics.p2.enable(a),a.body.setCollisionGroup(this.livesCollisionGroup),a.body.kinematic=!0}},e.prototype.displayTreeLetter=function(){this.treeLetters.children[this.letterIndex].scale.setTo(.1),this.treeLetters.children[this.letterIndex].alpha=1;this.game.add.tween(this.treeLetters.children[this.letterIndex].scale).to({x:1,y:1},3e3,o.Easing.Exponential.InOut,!0)},e.prototype.levelOver=function(){this.score+=20,this.updateScoreText(),this.letterIndex=0,this.gravity+=15,this.appleTweenTime>250?this.appleTweenTime-=250:this.appleTweenTime=250,this.game.physics.p2.gravity.y=this.gravity,this.getNewWord(),this.displayStartDialog()},e.prototype.updateScoreText=function(){this.scoreText.text="SCORE: "+this.score},e.prototype.setBoundaries=function(){var e=this.game.add.bitmapData(this.game.width+500,50),a=this.game.add.sprite(this.game.width/2,-25,e);this.game.physics.p2.enable(a,!1),a.body.data.sensor=!0,a.body.setCollisionGroup(this.boundaryCollisionGroup),a.body.collides(this.appleCollisionGroup,function(){},this),a.body.kinematic=!0;var t=this.game.add.bitmapData(50,this.game.height+50),s=this.game.add.sprite(-25,this.game.height/2-150,t);this.game.physics.p2.enable(s,!0),s.body.data.sensor=!0,s.body.setCollisionGroup(this.boundaryCollisionGroup),s.body.collides(this.appleCollisionGroup,function(){},this),s.body.kinematic=!0;var i=this.game.add.sprite(this.game.width+25,this.game.height/2-150,t);this.game.physics.p2.enable(i,!0),i.body.data.sensor=!0,i.body.setCollisionGroup(this.boundaryCollisionGroup),i.body.collides(this.appleCollisionGroup,function(){},this),i.body.kinematic=!0},e.prototype.setCollisionGroups=function(){this.bagCollisionGroup=this.game.physics.p2.createCollisionGroup(),this.appleCollisionGroup=this.game.physics.p2.createCollisionGroup(),this.boundaryCollisionGroup=this.game.physics.p2.createCollisionGroup(),this.livesCollisionGroup=this.game.physics.p2.createCollisionGroup()},e.prototype.destroyApple=function(e){e.destroy(),this.appleCount--,this.appleCount||this.correctAppleInBag||this.incorrectAppleInBag||(this.audio.no_apple.play(),this.loseLife()),!this.appleCount&&this.letterIndex<this.word.length?this.displayApples(this.getNextApples()):this.appleCount||this.letterIndex!=this.word.length||this.levelOver()},e.prototype.loseLife=function(){var e=this.livesGroup.children.length-1;this.livesGroup.children[e]&&this.livesGroup.children[e].destroy(),e||this.gameOver()},e.prototype.gameOver=function(){this.isGameOver=!0,this.gameOverDialog.dialog=this.game.add.sprite(this.game.width/2,this.game.height/2,"word_box"),this.gameOverDialog.dialog.scale.setTo(1.25,1.4),this.gameOverDialog.dialog.anchor.setTo(.5),this.gameOverDialog.dialog.inputEnabled=!0,this.gameOverDialog.dialogText=this.game.add.text(this.game.width/2,this.game.height/2-50,"GAME OVER\nYou Won\n"+this.score+" Coins",{font:"50px Arial",fill:"#cd2f43",wordWrap:!0,wordWrapWidth:this.gameOverDialog.dialog.width,align:"center"}),this.gameOverDialog.dialogText.anchor.set(.5),this.gameOverDialog.playAgainButton=this.game.add.button(this.game.width/2,this.game.height/2+100,"word_box",this.onPlayAgainButton,this),this.gameOverDialog.playAgainButton.anchor.set(.5),this.gameOverDialog.playAgainButton.scale.setTo(.4,.25),this.gameOverDialog.buttonText=this.game.add.text(this.game.width/2,this.game.height/2+100,"Play Again",{font:"25px Arial",fill:"#cd2f43",wordWrap:!0,wordWrapWidth:this.gameOverDialog.playAgainButton.width,align:"center"}),this.gameOverDialog.buttonText.anchor.set(.5),this.gameController.updateCoins(this.score)},e.prototype.startBackgroundMusic=function(){this.backgroundMusic=this.audio.background,this.backgroundMusic.play(),this.backgroundMusic.volume=.5,this.backgroundMusic.loopFull(.5)},e.prototype.onPlayAgainButton=function(){this.vocabRemaining=p.cloneDeep(this.vocabFull),this.removeGameOverDialog(),this.reset(),this.isGameOver=!1},e.prototype.reset=function(){for(var e=0,a=this.apples;e<a.length;e++){var t=a[e];t.alive&&t.destroy()}this.game.tweens.removeAll(),this.displayLives(),this.getNewWord(),this.displayStartDialog(),this.score=0,this.updateScoreText(),this.letterIndex=0,this.treeLetters&&this.treeLetters.children&&this.treeLetters.destroy(),this.getBranchLetters(),this.appleTweenTime=this.defaultAappleTweenTime,this.gravity=this.defaultGravity,this.game.physics.p2.gravity.y=this.gravity},e.prototype.removeGameOverDialog=function(){this.gameOverDialog.dialog.destroy(),this.gameOverDialog.dialogText.destroy(),this.gameOverDialog.playAgainButton.destroy(),this.gameOverDialog.buttonText.destroy()},e.prototype.update=function(){if(this.gameReady&&this.isGameOver){for(var e=0,a=this.apples;e<a.length;e++){var t=a[e];t.alive&&t.y>this.game.height+150&&this.destroyApple(t)}this.arrowKeys.left.isDown&&this.bagFront.x>=108?this.bagVelocity-=6:this.arrowKeys.right.isDown&&this.bagFront.x<=1245?this.bagVelocity+=6:(this.bagVelocity<0&&(this.bagVelocity+=2.25),this.bagVelocity>0&&(this.bagVelocity-=2.25)),this.bagFront.body.moveRight(this.bagVelocity),this.bagFront.body.angle=(this.game.width/2-this.bagFront.x)/100,this.bagFront.angle=(this.game.width/2-this.bagFront.x)/100,this.bagBack.body.moveRight(this.bagVelocity),this.bagBack.body.angle=(this.game.width/2-this.bagFront.x)/100,this.bagBack.angle=(this.game.width/2-this.bagFront.x)/100,this.bagSensor.body.x=this.bagFront.body.x+(this.game.width/2-this.bagFront.x)/65,this.bagSensor.body.angle=(this.game.width/2-this.bagFront.x)/100,this.bagSensor.angle=(this.game.width/2-this.bagFront.x)/100,this.bagFront.x<=108&&this.bagVelocity<0&&(this.bagVelocity*=-.8),this.bagFront.x>=1245&&this.bagVelocity>0&&(this.bagVelocity*=-.8)}},e.prototype.displayBag=function(){this.bagBack=this.game.add.sprite(this.game.width/2,745,"bag_back"),this.game.physics.p2.enable(this.bagBack,!1),this.bagBack.body.fixedRotation=!0,this.bagFront=this.game.add.sprite(this.game.width/2,745,"bag_front"),this.game.physics.p2.enable(this.bagFront,!1),this.bagFront.body.fixedRotation=!0,this.bagFront.body.clearShapes(),this.bagFront.body.loadPolygon("physics","bag_front");var e=this.game.add.bitmapData(50,35);e.ctx.rect(0,0,50,35),this.bagSensor=this.game.add.sprite(this.game.width/2,695,e),this.game.physics.p2.enable(this.bagSensor,!1),this.bagSensor.body.data.sensor=!0,this.bagBack.body.setCollisionGroup(this.bagCollisionGroup),this.bagFront.body.setCollisionGroup(this.bagCollisionGroup),this.bagSensor.body.setCollisionGroup(this.bagCollisionGroup),this.bagSensor.body.collides(this.appleCollisionGroup,this.onAppleInBag,this),this.bagFront.body.collides(this.appleCollisionGroup,function(){},this),this.bagSensor.body.kinematic=!0,this.bagFront.body.kinematic=!0,this.bagBack.body.kinematic=!0},e.prototype.onAppleInBag=function(e,a){a.sprite&&a.sprite.letter==this.curLetter&&!this.incorrectAppleInBag?(this.audio.apple_catch.play(),this.score+=5,this.updateScoreText(),this.correctAppleInBag=!0,this.displayTreeLetter(),this.letterIndex++):!a.sprite||this.incorrectAppleInBag||this.correctAppleInBag||(this.audio.wrong_apple.play(),this.loseLife(),this.incorrectAppleInBag=!0,this.startWormAnim()),a.sprite&&this.destroyApple(a.sprite)},e.prototype.startWormAnim=function(){var e=this;this.worm=this.game.add.sprite(this.bagFront.x,600,"worm_spritesheet"),this.wormDown=!1;var a=this.worm.animations.add("flip");a.onComplete.add(this.wormFlipDone,this),this.game.world.swap(this.worm,this.bagFront),this.game.add.tween(this.worm).to({y:this.worm.y-175},500,"Linear",!0).onComplete.add(function(){e.wormDown=!0,e.game.world.swap(e.worm,e.bagFront),a.play(165)},this)},e.prototype.wormFlipDone=function(){var e=this;this.game.add.tween(this.worm).to({y:this.game.height+100},2750,"Linear",!0).onComplete.add(function(){e.worm.destroy()},this)},e.prototype.getNextApples=function(){return this.curLetter=this.word[this.letterIndex],this.word[this.letterIndex]===this.word[this.letterIndex].toUpperCase()?this.getApples("cap"):this.getApples("low")},e.prototype.displayApples=function(e){if(!this.isGameOver){var a=this.game.add.sprite(p.random(150,(this.game.width-100)/3-50),p.random(75,125),e[0].img);a.letter=e[0].letter;var t=this.game.add.sprite(p.random((this.game.width-100)/3+50,2*(this.game.width-100)/3-50),p.random(75,125),e[1].img);t.letter=e[1].letter;var s=this.game.add.sprite(p.random(2*(this.game.width-100)/3+50,this.game.width-100),p.random(75,125),e[2].img);s.letter=e[2].letter,this.apples=[a,t,s],this.appleCount=3,this.incorrectAppleInBag=!1,this.correctAppleInBag=!1;for(var i=this,r=0,n=this.apples;r<n.length;r++){var l=n[r];!function(e){i.game.physics.p2.enable(e,!1),e.body.clearShapes(),e.body.loadPolygon("physics","apple"),e.scale.setTo(.1),e.body.setCollisionGroup(i.appleCollisionGroup),e.body.collides([i.appleCollisionGroup,i.bagCollisionGroup,i.boundaryCollisionGroup]),e.body.data.gravityScale=0,i.worm&&i.worm.alive&&i.wormDown&&i.game.world.swap(e,i.worm),i.game.world.swap(e,i.bagFront),i.worm&&i.worm.alive&&!i.wormDown&&i.game.world.swap(e,i.worm),i.game.add.tween(e.scale).to({x:1,y:1},i.appleTweenTime,o.Easing.Exponential.InOut,!0).onComplete.add(function(){e.body.data.gravityScale=p.random(50,100)/100},i)}(l)}}},e.prototype.getApples=function(e){var a=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t=[];p.pull(a,p.lowerCase(this.curLetter)),t.push({letter:this.curLetter,img:"apple_"+e+"_"+p.lowerCase(this.curLetter)});for(var s=0;s<2;s++){var i=p.random(a.length-1),o=a.splice(i,1)[0];t.push({letter:o,img:"apple_"+e+"_"+o})}return p.shuffle(t)},e.prototype.getNewWord=function(){0==this.vocabRemaining.length&&(this.vocabRemaining=p.cloneDeep(this.vocabFull)),this.word=this.vocabRemaining.splice(p.random(this.vocabRemaining.length-1),1)[0].word.split("")},e.prototype.setBackground=function(){this.game.add.image(0,0,"background").scale.setTo(.68,.5)},e.prototype.displayStartDialog=function(){this.isStartDialogDisplayed=!0,this.startDialog.dialog=this.game.add.sprite(this.game.width/2,this.game.height/2,"word_box"),this.startDialog.dialog.anchor.setTo(.5),this.startDialog.dialog.inputEnabled=!0,this.startDialog.dialogText=this.game.add.text(this.game.width/2,this.game.height/2-25,this.word.join(""),{font:"50px Arial",fill:"#cd2f43",wordWrap:!0,wordWrapWidth:this.startDialog.dialog.width,align:"center"}),this.startDialog.dialogText.anchor.set(.5),this.startDialog.startButton=this.game.add.button(this.game.width/2,this.game.height/2+75,"word_box",this.onStartButton,this),this.startDialog.startButton.anchor.set(.5),this.startDialog.startButton.scale.setTo(.25,.25),this.startDialog.buttonText=this.game.add.text(this.game.width/2,this.game.height/2+75,"Start",{font:"25px Arial",fill:"#cd2f43",wordWrap:!0,wordWrapWidth:this.startDialog.startButton.width,align:"center"}),this.startDialog.buttonText.anchor.set(.5)},e.prototype.onStartButton=function(){this.isStartDialogDisplayed=!1,this.treeLetters&&this.treeLetters.children&&this.treeLetters.destroy(),this.getBranchLetters(),this.removeStartDialog();var e=this.getNextApples();this.displayApples(e)},e.prototype.removeStartDialog=function(){this.startDialog.dialogText.destroy(),this.startDialog.dialog.destroy(),this.startDialog.startButton.destroy(),this.startDialog.buttonText.destroy()},e.ctorParameters=function(){return[{type:r.a}]},e}(),h=function(){function e(){}return e}(),m=[".title[_ngcontent-%COMP%]{margin:auto;display:block;margin-bottom:30px}.game[_ngcontent-%COMP%]{margin:auto;width:1354px}"],c=t("/oeL"),d=t("8YxG"),_=t("rdyP"),u=t("shAM"),w=t("kOp9"),b=t("VHzl"),y=t("LT5m"),D=[m],v=c._20({encapsulation:0,styles:D,data:{}}),f=c._18("sq-apple-drop",g,i,{},{},[]);t.d(a,"AppleDropModuleNgFactory",function(){return H});var x=t("/oeL"),G=t("kJcM"),C=t("8HKE"),k=t("U+Dl"),A=t("GZBr"),T=t("qbdv"),B=t("l6RC"),S=t("fc+i"),L=t("zQfh"),O=t("V8+5"),F=t("4jwp"),I=t("OFGE"),E=t("8Xfy"),j=t("w24y"),M=t("vgc3"),W=t("CPp0"),V=t("LT5m"),R=t("j5BN"),P=t("Ioj9"),z=t("BkNc"),q=t("CZgk"),N=t("e0rv"),J=t("4+t2"),K=t("ghl+"),U=t("OmTc"),H=x._19(h,[],function(e){return x._34([x._35(512,x.m,x._15,[[8,[G.a,C.a,C.b,k.a,k.e,k.b,A.b,A.a,f]],[3,x.m],x.H]),x._35(4608,T.m,T.l,[x.D]),x._35(6144,B.b,null,[S.b]),x._35(4608,B.c,B.c,[[2,B.b]]),x._35(5120,L.a,L.c,[]),x._35(4608,L.b,L.b,[L.a]),x._35(4608,L.l,L.l,[x.J,T.c]),x._35(5120,L.m,L.k,[[3,L.m],L.b,L.l]),x._35(5120,L.p,L.o,[[3,L.p],L.l,L.b]),x._35(4608,O.a,O.a,[]),x._35(5120,F.c,F.a,[[3,F.c],x.J,O.a]),x._35(5120,F.g,F.f,[[3,F.g],O.a,x.J,F.c]),x._35(4608,I.g,I.g,[F.c,F.g]),x._35(5120,I.d,I.j,[[3,I.d]]),x._35(4608,I.m,I.m,[F.g]),x._35(4608,I.b,I.b,[I.g,I.d,x.m,I.m,x.g,x.z,x.J]),x._35(5120,I.k,I.l,[I.b]),x._35(4608,E.j,E.j,[O.a]),x._35(4608,E.i,E.i,[E.j,O.a,x.J]),x._35(136192,E.e,E.c,[[3,E.e],O.a]),x._35(5120,E.n,E.m,[[3,E.n],[2,E.k],O.a]),x._35(5120,E.h,E.f,[[3,E.h],x.J,O.a]),x._35(5120,j.b,j.c,[I.b]),x._35(4608,j.d,j.d,[I.b,x.z,[2,T.g],j.b,[3,j.d]]),x._35(5120,M.d,M.a,[[3,M.d],[2,W.e],S.c]),x._35(4608,V.b,V.b,[I.b,E.n,x.z,[3,V.b]]),x._35(512,T.b,T.b,[]),x._35(512,R.c,R.c,[]),x._35(512,B.a,B.a,[]),x._35(256,R.g,!0,[]),x._35(512,R.m,R.m,[[2,R.g]]),x._35(512,P.c,P.c,[]),x._35(512,L.n,L.n,[]),x._35(512,L.f,L.f,[]),x._35(512,z.o,z.o,[[2,z.t],[2,z.l]]),x._35(512,q.f,q.f,[]),x._35(512,O.b,O.b,[]),x._35(512,F.b,F.b,[]),x._35(512,I.e,I.e,[]),x._35(512,E.a,E.a,[]),x._35(512,j.h,j.h,[]),x._35(512,N.g,N.g,[]),x._35(512,R.o,R.o,[]),x._35(512,J.b,J.b,[]),x._35(512,M.c,M.c,[]),x._35(512,R.y,R.y,[]),x._35(512,K.d,K.d,[]),x._35(512,V.d,V.d,[]),x._35(512,U.a,U.a,[]),x._35(512,h,h,[]),x._35(1024,z.j,function(){return[[{path:"",component:g},{path:"apple-drop",component:g}]]},[])])})}});